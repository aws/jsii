{"version":3,"file":"assembly.js","sourceRoot":"","sources":["../src/assembly.ts"],"names":[],"mappings":"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","sourcesContent":["export const SPEC_FILE_NAME = '.jsii';\n\n/**\n * A JSII assembly specification.\n */\nexport interface Assembly\n  extends AssemblyConfiguration,\n    Documentable,\n    ReadMeContainer {\n  /**\n   * The version of the spec schema\n   */\n  schema: SchemaVersion.LATEST;\n\n  /**\n   * The name of the assembly\n   *\n   * @minLength 1\n   */\n  name: string;\n\n  /**\n   * Description of the assembly, maps to \"description\" from package.json\n   * This is required since some package managers (like Maven) require it.\n   */\n  description: string;\n\n  /**\n   * The url to the project homepage. Maps to \"homepage\" from package.json.\n   */\n  homepage: string;\n\n  /**\n   * The module repository, maps to \"repository\" from package.json\n   * This is required since some package managers (like Maven) require it.\n   */\n  repository: {\n    /**\n     * The type of the repository (``git``, ``svn``, ...)\n     */\n    type: string;\n\n    /**\n     * The URL of the repository.\n     */\n    url: string;\n\n    /**\n     * If the package is not in the root directory (for example, when part\n     * of a monorepo), you should specify the directory in which it lives.\n     *\n     * @default the root of the repository\n     */\n    directory?: string;\n  };\n\n  /**\n   * The main author of this package.\n   */\n  author: Person;\n\n  /**\n   * Additional contributors to this package.\n   *\n   * @default none\n   */\n  contributors?: Person[];\n\n  /**\n   * A fingerprint that can be used to determine if the specification has\n   * changed.\n   *\n   * @minLength 1\n   */\n  fingerprint: string;\n\n  /**\n   * The version of the assembly\n   * @minLength 1\n   */\n  version: string;\n\n  /**\n   * The version of the jsii compiler that was used to produce this Assembly.\n   * @minLength 1\n   */\n  jsiiVersion: string;\n\n  /**\n   * The SPDX name of the license this assembly is distributed on.\n   */\n  license: string;\n\n  /**\n   * Arbitrary key-value pairs of metadata, which the maintainer chose to\n   * document with the assembly. These entries do not carry normative\n   * semantics and their interpretation is up to the assembly maintainer.\n   *\n   * @default none\n   */\n  metadata?: { [key: string]: any };\n\n  /**\n   * Keywords that help discover or identify this packages with respects to it's\n   * intended usage, audience, etc... Where possible, this will be rendered in\n   * the corresponding metadata section of idiomatic package manifests, for\n   * example NuGet package tags.\n   */\n  keywords?: string[];\n\n  /**\n   * Direct dependencies on other assemblies (with semver), the key is the JSII\n   * assembly name, and the value is a SemVer expression.\n   *\n   * @default none\n   */\n  dependencies?: { [assembly: string]: string };\n\n  /**\n   * Target configuration for all the assemblies that are direct or transitive\n   * dependencies of this assembly. This is needed to generate correct native\n   * type names for any transitively inherited member, in certain languages.\n   *\n   * @default none\n   */\n  dependencyClosure?: { [assembly: string]: DependencyConfiguration };\n\n  /**\n   * List if bundled dependencies (these are not expected to be jsii\n   * assemblies).\n   *\n   * @default none\n   */\n  bundled?: { [module: string]: string };\n\n  /**\n   * All types in the assembly, keyed by their fully-qualified-name\n   *\n   * @default none\n   */\n  types?: { [fqn: string]: Type };\n\n  /**\n   * List of bin-scripts\n   *\n   * @default none\n   */\n  bin?: { readonly [script: string]: string };\n}\n\n/**\n * Shareable configuration of a jsii Assembly.\n */\nexport interface AssemblyConfiguration extends Targetable {\n  /**\n   * Submodules declared in this assembly.\n   *\n   * @default none\n   */\n  submodules?: { [fqn: string]: Submodule };\n}\n\nexport interface DependencyConfiguration extends Targetable {\n  submodules?: { [fqn: string]: Targetable };\n}\n\n/**\n * A targetable module-like thing\n *\n * Has targets and a readme. Used for Assemblies and Submodules.\n */\nexport interface Targetable {\n  /**\n   * A map of target name to configuration, which is used when generating\n   * packages for various languages.\n   *\n   * @default none\n   */\n  targets?: AssemblyTargets;\n}\n\n/**\n * Elements that can contain a `readme` property.\n */\nexport interface ReadMeContainer {\n  /**\n   * The readme document for this module (if any).\n   *\n   * @default none\n   */\n  readme?: ReadMe;\n}\n\n/**\n * README information\n */\nexport interface ReadMe {\n  markdown: string;\n}\n\n/**\n * A submodule\n *\n * The difference between a top-level module (the assembly) and a submodule is\n * that the submodule is annotated with its location in the repository.\n */\nexport type Submodule = ReadMeContainer &\n  SourceLocatable &\n  Targetable &\n  TypeScriptLocatable;\n\n/**\n * Versions of the JSII Assembly Specification.\n */\nexport enum SchemaVersion {\n  LATEST = 'jsii/0.10.0',\n}\n\n/**\n * Fully Qualified Name\n */\nexport type FQN = string;\n\n/**\n * Metadata about people or organizations associated with the project that\n * resulted in the Assembly. Some of this metadata is required in order to\n * publish to certain package repositories (for example, Maven Central), but is\n * not normalized, and the meaning of fields (role, for example), is up to each\n * project maintainer.\n */\nexport interface Person {\n  /**\n   * The name of the person\n   */\n  name: string;\n\n  /**\n   * A list of roles this person has in the project, for example `maintainer`,\n   * `contributor`, `owner`, ...\n   */\n  roles: string[];\n\n  /**\n   * The email of the person\n   *\n   * @default none\n   */\n  email?: string;\n\n  /**\n   * The URL for the person\n   *\n   * @default none\n   */\n  url?: string;\n\n  /**\n   * If true, this person is, in fact, an organization\n   *\n   * @default false\n   */\n  organization?: boolean;\n}\n\n/**\n * Configurable targets for an asembly.\n */\nexport interface AssemblyTargets {\n  /**\n   * Information about a particular language's targets\n   */\n  [language: string]: { [key: string]: any } | undefined;\n}\n\n/**\n * Where in the module source the definition for this API item was found\n */\nexport interface SourceLocation {\n  /**\n   * Relative filename\n   */\n  filename: string;\n\n  /**\n   * 1-based line number in the indicated file\n   */\n  line: number;\n}\n\n/**\n * Key value pairs of documentation nodes.\n * Based on TSDoc.\n */\nexport interface Docs {\n  /**\n   * Summary documentation for an API item.\n   *\n   * The first part of the documentation before hitting a `@remarks` tags, or\n   * the first line of the doc comment block if there is no `@remarks` tag.\n   *\n   * @default none\n   */\n  summary?: string;\n\n  /**\n   * Detailed information about an API item.\n   *\n   * Either the explicitly tagged `@remarks` section, otherwise everything\n   * past the first paragraph if there is no `@remarks` tag.\n   *\n   * @default none\n   */\n  remarks?: string;\n\n  /**\n   * If present, this block indicates that an API item is no longer supported\n   * and may be removed in a future release.  The `@deprecated` tag must be\n   * followed by a sentence describing the recommended alternative.\n   * Deprecation recursively applies to members of a container. For example,\n   * if a class is deprecated, then so are all of its members.\n   *\n   * @default none\n   */\n  deprecated?: string;\n\n  /**\n   * The `@returns` block for this doc comment, or undefined if there is not\n   * one.\n   *\n   * @default none\n   */\n  returns?: string;\n\n  /**\n   * Whether the API item is beta/experimental quality\n   */\n  stability?: Stability;\n\n  /**\n   * Example showing the usage of this API item\n   *\n   * Starts off in running text mode, may switch to code using fenced code\n   * blocks.\n   *\n   * @default none\n   */\n  example?: string;\n\n  /**\n   * A `@see` link with more information\n   *\n   * @default none\n   */\n  see?: string;\n\n  /**\n   * Whether this class or interface was intended to be subclassed/implemented\n   * by library users.\n   *\n   * Classes intended for subclassing, and interfaces intended to be\n   * implemented by consumers, are held to stricter standards of API\n   * compatibility.\n   *\n   * @default false\n   */\n  subclassable?: boolean;\n\n  /**\n   * Description of the default\n   *\n   * @default none\n   */\n  default?: string;\n\n  /**\n   * Custom tags that are not any of the default ones\n   *\n   * @default none\n   */\n  custom?: { [tag: string]: string };\n}\n\n/**\n * API Stability levels. These are modeled after the `node` stability index.\n *\n * @see https://nodejs.org/api/documentation.html#documentation_stability_index.\n */\nexport enum Stability {\n  /**\n   * The API may emit warnings. Backward compatibility is not guaranteed.\n   *\n   * More information about the deprecation can usually be found in the\n   * `deprecated` field.\n   */\n  Deprecated = 'deprecated',\n\n  /**\n   * This API is still under active development and subject to non-backward\n   * compatible changes or removal in any future version. Use of the API is\n   * not recommended in production environments. Experimental APIs are not\n   * subject to the Semantic Versioning model.\n   */\n  Experimental = 'experimental',\n\n  /**\n   * This API is subject to the Semantic Versioning model and may not change\n   * in breaking ways in a subsequent minor or patch version.\n   */\n  Stable = 'stable',\n\n  /**\n   * This API is an representation of an API managed elsewhere and follows\n   * the other API's versioning model.\n   */\n  External = 'external',\n}\n\n/**\n * Indicates that an entity is documentable.\n */\nexport interface Documentable {\n  /**\n   * Documentation for this entity.\n   *\n   * @default none\n   */\n  docs?: Docs;\n}\n\n/**\n * Indicates that an entity has a source location\n */\nexport interface SourceLocatable {\n  /**\n   * Where in the module this definition was found\n   *\n   * Why is this not `locationInAssembly`? Because the assembly is the JSII\n   * file combining compiled code and its manifest, whereas this is referring\n   * to the location of the source in the module the assembly was built from.\n   *\n   * @default none\n   */\n  locationInModule?: SourceLocation;\n}\n\n/**\n * Indicates that a jsii entity's origin can be traced to TypeScript code\n *\n * This is interface is not the same as `SourceLocatable`. SourceLocatable\n * identifies lines in source files in a source repository (in a `.ts` file,\n * with respect to a git root).\n *\n * On the other hand, `TypeScriptLocatable` identifies a symbol name inside a\n * potentially distributed TypeScript file (in either a `.d.ts` or `.ts`\n * file, with respect to the package root).\n */\nexport interface TypeScriptLocatable {\n  /**\n   * Unique string representation of the corresponding Typescript symbol\n   *\n   * Used to map from TypeScript code back into the assembly.\n   */\n  symbolId?: string;\n}\n\n/**\n * Kinds of collections.\n */\nexport enum CollectionKind {\n  /**\n   * An array, or a list of some element type.\n   */\n  Array = 'array',\n  /**\n   * A map of a string to some element type.\n   */\n  Map = 'map',\n}\n\n/**\n * Kinds of primitive types.\n */\nexport enum PrimitiveType {\n  /**\n   * A JSON date (represented as it's ISO-8601 string form).\n   */\n  Date = 'date',\n\n  /**\n   * A plain string.\n   */\n  String = 'string',\n\n  /**\n   * A number (integer or float).\n   */\n  Number = 'number',\n\n  /**\n   * A boolean value.\n   */\n  Boolean = 'boolean',\n\n  /**\n   * A JSON object\n   */\n  Json = 'json',\n\n  /**\n   * Value with \"any\" or \"unknown\" type (aka Object). Values typed `any` may\n   * be `null` or `undefined`.\n   */\n  Any = 'any',\n}\n\n/**\n * A value that can possibly be optional.\n */\nexport interface OptionalValue {\n  /**\n   * Determines whether the value is, indeed, optional.\n   *\n   * @default false\n   */\n  optional?: boolean;\n\n  /**\n   * The declared type of the value, when it's present.\n   */\n  type: TypeReference;\n}\n\n/**\n * A reference to a type (primitive, collection or fqn).\n */\nexport type TypeReference =\n  | NamedTypeReference\n  | PrimitiveTypeReference\n  | CollectionTypeReference\n  | UnionTypeReference;\n\n/**\n * The standard representation of the `any` type (includes optionality marker).\n */\nexport const CANONICAL_ANY: Readonly<PrimitiveTypeReference> = {\n  primitive: PrimitiveType.Any,\n};\n\n/**\n * Reference to a named type, defined by this assembly or one of its\n * dependencies.\n */\nexport interface NamedTypeReference {\n  /**\n   * The fully-qualified-name of the type (can be located in the\n   * ``spec.types[fqn]``` of the assembly that defines the type).\n   */\n  fqn: FQN;\n}\nexport function isNamedTypeReference(\n  ref: TypeReference | undefined,\n): ref is NamedTypeReference {\n  return !!(ref as NamedTypeReference)?.fqn;\n}\n\n/**\n * Reference to a primitive type.\n */\nexport interface PrimitiveTypeReference {\n  /**\n   * If this is a reference to a primitive type, this will include the\n   * primitive type kind.\n   */\n  primitive: PrimitiveType;\n}\nexport function isPrimitiveTypeReference(\n  ref: TypeReference | undefined,\n): ref is PrimitiveTypeReference {\n  return !!(ref as PrimitiveTypeReference)?.primitive;\n}\n\n/**\n * Reference to a collection type.\n */\nexport interface CollectionTypeReference {\n  collection: {\n    /**\n     * The kind of collection.\n     */\n    kind: CollectionKind;\n\n    /**\n     * The type of an element (map keys are always strings).\n     */\n    elementtype: TypeReference;\n  };\n}\nexport function isCollectionTypeReference(\n  ref: TypeReference | undefined,\n): ref is CollectionTypeReference {\n  return !!(ref as CollectionTypeReference)?.collection;\n}\n\n/**\n * Reference to a union type.\n */\nexport interface UnionTypeReference {\n  /**\n   * Indicates that this is a union type, which means it can be one of a set\n   * of types.\n   */\n  union: {\n    /**\n     * All the possible types (including the primary type).\n     *\n     * @minItems 2\n     */\n    types: TypeReference[];\n  };\n}\nexport function isUnionTypeReference(\n  ref: TypeReference | undefined,\n): ref is UnionTypeReference {\n  return !!(ref as UnionTypeReference)?.union;\n}\n\n/**\n * Methods and properties can be overridden from parent classes or implemented\n * from interfaces.\n */\nexport interface Overridable {\n  /**\n   * The FQN of the parent type (class or interface) that this entity\n   * overrides or implements. If undefined, then this entity is the first in\n   * it's hierarchy to declare this entity.\n   *\n   * @default this member is not overriding anything\n   */\n  overrides?: FQN;\n}\n\n/**\n * A class property.\n */\nexport interface Property\n  extends Documentable,\n    OptionalValue,\n    Overridable,\n    SourceLocatable {\n  /**\n   * The name of the property.\n   *\n   * @minLength 1\n   */\n  name: string;\n\n  /**\n   * Indicates if this property only has a getter (immutable).\n   *\n   * @default false\n   */\n  immutable?: boolean;\n\n  /**\n   * Indicates if this property is protected (otherwise it is public)\n   *\n   * @default false\n   */\n  protected?: boolean;\n\n  /**\n   * Indicates if this property is abstract\n   *\n   * @default false\n   */\n  abstract?: boolean;\n\n  /**\n   * Indicates if this is a static property.\n   *\n   * @default false\n   */\n  static?: boolean;\n\n  /**\n   * A hint that indicates that this static, immutable property is initialized\n   * during startup. This allows emitting \"const\" idioms in different target\n   * languages. Implies `static` and `immutable`.\n   *\n   * @default false\n   */\n  const?: boolean;\n}\n\n/**\n * Represents a method parameter.\n */\nexport interface Parameter extends Documentable, OptionalValue {\n  /**\n   * The name of the parameter.\n   *\n   * @minLength 1\n   */\n  name: string;\n\n  /**\n   * Whether this is the last parameter of a variadic method. In such cases,\n   * the `#type` attribute is the type of each individual item of the variadic\n   * arguments list (as opposed to some array type, as for example TypeScript\n   * would model it).\n   *\n   * @default false\n   */\n  variadic?: boolean;\n}\n\n/**\n * An Initializer or a Method.\n */\nexport interface Callable extends Documentable, Overridable, SourceLocatable {\n  /**\n   * The parameters of the Initializer or Method.\n   *\n   * @default none\n   */\n  parameters?: Parameter[];\n\n  /**\n   * Indicates if this Initializer or Method is protected (otherwise it is\n   * public, since private members are not modeled).\n   *\n   * @default false\n   */\n  protected?: boolean;\n\n  /**\n   * Indicates whether this Initializer or Method is variadic or not. When\n   * ``true``, the last element of ``#parameters`` will also be flagged\n   * ``#variadic``.\n   *\n   * @default false\n   */\n  variadic?: boolean;\n}\n\n/**\n * An initializer.\n */\nexport type Initializer = Callable;\n\n/**\n * A method with a name (i.e: not an initializer).\n */\nexport interface Method extends Callable {\n  /**\n   * The name of the method. Undefined if this method is a initializer.\n   */\n  name: string;\n\n  /**\n   * The return type of the method (`undefined` if `void`)\n   *\n   * @default void\n   */\n  returns?: OptionalValue;\n\n  /**\n   * Is this method an abstract method (this means the class will also be an abstract class)\n   *\n   * @default false\n   */\n  abstract?: boolean;\n\n  /**\n   * Indicates if this is an asynchronous method (it will return a promise).\n   *\n   * @default false\n   */\n  async?: boolean;\n\n  /**\n   * Indicates if this is a static method.\n   *\n   * @default false\n   */\n  static?: boolean;\n}\n/**\n * Determines whether a Callable is a Method or not.\n *\n * @param callable the callable to be checked.\n */\nexport function isMethod(callable: Callable): callable is Method {\n  return !!(callable as Method).name;\n}\n\n/**\n * Represents a type definition (not a type reference).\n */\nexport type Type = TypeBase & (ClassType | EnumType | InterfaceType);\n\n/**\n * Common attributes of a type definition.\n */\nexport interface TypeBase\n  extends Documentable,\n    SourceLocatable,\n    TypeScriptLocatable {\n  /**\n   * The fully qualified name of the type (``<assembly>.<namespace>.<name>``)\n   *\n   * @minLength 3\n   */\n  fqn: FQN;\n\n  /**\n   * The name of the assembly the type belongs to.\n   *\n   * @minLength 1\n   */\n  assembly: string;\n\n  /**\n   * The namespace of the type (`foo.bar.baz`).\n   *\n   * When undefined, the type is located at the root of the assembly (its\n   * `fqn` would be like `<assembly>.<name>`).\n   *\n   * For types inside other types or inside submodules, the `<namespace>` corresponds to\n   * the namespace-qualified name of the container (can contain multiple segments like:\n   * `<ns1>.<ns2>.<ns3>`).\n   *\n   * In all cases:\n   *\n   *  <fqn> = <assembly>[.<namespace>].<name>\n   *\n   * @default none\n   */\n  namespace?: string;\n\n  /**\n   * The simple name of the type (MyClass).\n   *\n   * @minLength 1\n   */\n  name: string;\n\n  /**\n   * The kind of the type.\n   */\n  kind: TypeKind;\n}\n\n/**\n * Kinds of types.\n */\nexport enum TypeKind {\n  Class = 'class',\n  Enum = 'enum',\n  Interface = 'interface',\n}\n\n/**\n * Represents classes.\n */\nexport interface ClassType extends TypeBase {\n  kind: TypeKind.Class;\n\n  /**\n   * The FQN of the base class of this class, if it has one.\n   *\n   * @default no base class\n   */\n  base?: FQN;\n\n  /**\n   * Initializer (constructor) method.\n   *\n   * @default no initializer\n   */\n  initializer?: Initializer;\n\n  /**\n   * List of properties.\n   *\n   * @default none\n   */\n  properties?: Property[];\n\n  /**\n   * List of methods.\n   *\n   * @default none\n   */\n  methods?: Method[];\n\n  /**\n   * Indicates if this class is an abstract class.\n   *\n   * @default false\n   */\n  abstract?: boolean;\n\n  /**\n   * The FQNs of the interfaces this class implements, if any.\n   *\n   * @default none\n   * @uniqueItems true\n   */\n  interfaces?: FQN[];\n}\n\nexport function isClassType(type: Type | undefined): type is ClassType {\n  return type?.kind === TypeKind.Class;\n}\n\nexport interface InterfaceType extends TypeBase {\n  kind: TypeKind.Interface;\n\n  /**\n   * The FQNs of the interfaces this interface extends, if any.\n   *\n   * @default none\n   * @uniqueItems true\n   */\n  interfaces?: FQN[];\n\n  /**\n   * List of methods.\n   *\n   * @default none\n   */\n  methods?: Method[];\n\n  /**\n   * List of properties.\n   *\n   * @default none\n   */\n  properties?: Property[];\n\n  /**\n   * True if this interface only contains properties. Different backends might\n   * have idiomatic ways to allow defining concrete instances such interfaces.\n   * For example, in Java, the generator will produce a PoJo and a builder\n   * which will allow users to create a concrete object with data which\n   * adheres to this interface.\n   *\n   * @default false\n   */\n  datatype?: boolean;\n}\n\nexport function isInterfaceType(type: Type | undefined): type is InterfaceType {\n  return type?.kind === TypeKind.Interface;\n}\n\n/**\n * Represents a member of an enum.\n */\nexport interface EnumMember extends Documentable {\n  /**\n   * The name/symbol of the member.\n   */\n  name: string;\n}\n\n/**\n * Represents an enum type.\n */\nexport interface EnumType extends TypeBase {\n  kind: TypeKind.Enum;\n\n  /**\n   * Members of the enum.\n   */\n  members: EnumMember[];\n}\n\nexport function isEnumType(type: Type | undefined): type is EnumType {\n  return type?.kind === TypeKind.Enum;\n}\n\n/**\n * Return whether this type is a class or interface type\n */\nexport function isClassOrInterfaceType(\n  type: Type | undefined,\n): type is InterfaceType | ClassType {\n  return isClassType(type) || isInterfaceType(type);\n}\n\n/**\n * Return a string representation of the given type reference.\n */\nexport function describeTypeReference(type?: TypeReference): string {\n  if (type === undefined) {\n    return 'void';\n  }\n\n  if (isNamedTypeReference(type)) {\n    return type.fqn;\n  }\n\n  if (isPrimitiveTypeReference(type)) {\n    return type.primitive;\n  }\n\n  if (isCollectionTypeReference(type)) {\n    return `${type.collection.kind}<${describeTypeReference(\n      type.collection.elementtype,\n    )}>`;\n  }\n\n  if (isUnionTypeReference(type)) {\n    const unionType = type.union.types.map(describeTypeReference).join(' | ');\n    return unionType;\n  }\n\n  throw new Error('Unrecognized type reference');\n}\n\n/**\n * Determines whether an entity is deprecated.\n *\n * @param entity the entity to be checked.\n *\n * @returns true if the entity is marked as deprecated.\n */\nexport function isDeprecated(entity: Documentable): boolean {\n  return entity?.docs?.stability === Stability.Deprecated;\n}\n"]}